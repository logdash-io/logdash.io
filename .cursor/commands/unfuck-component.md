this component is just terribly written, make it more readable and delegate certain responsibilities to proper layers @apps/frontend/.cursor/rules/default.mdc
